para este cÃ³digo: 
#!/usr/bin/env python3
# -*- coding: utf-8 -*-

import os, re, json
from pathlib import Path
from collections import defaultdict
from dotenv import load_dotenv
from langchain.schema import Document
from langchain_core.chat_history import InMemoryChatMessageHistory
from langchain_core.messages import HumanMessage, AIMessage
from langchain_core.prompts import ChatPromptTemplate, PromptTemplate
from langchain_google_genai import ChatGoogleGenerativeAI, GoogleGenerativeAIEmbeddings
from langchain_qdrant import Qdrant
import qdrant_client
from qdrant_client.http import models as qmodels
from langchain.chains import LLMChain
from langchain_core.runnables import RunnableMap


# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# 0.â€¯Variables de entorno
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
load_dotenv()
API_KEY        = os.getenv("GOOGLE_API_KEY")
QDRANT_API_KEY = os.getenv("QDRANT_API_KEY")
QDRANT_URL     = os.getenv("QDRANT_URL")

COLLECTION_NAME = "Prevencion_de_blanqueo_y_finanzas_sensibles"

# â”€â”€â”€ CAMBIO â”€â”€â”€ directorio de PDFs (no JSON)
PDF_DIR = "/home/reboot-student/Desktop/Licitacion/docs/leyes/a"

emb = GoogleGenerativeAIEmbeddings(model="models/embedding-001", google_api_key=API_KEY)
client = qdrant_client.QdrantClient(url=QDRANT_URL, api_key=QDRANT_API_KEY)

COLLECTIONS_SEARCH = [
    " Normativa General y ContrataciÃ³n PÃºblica",
    "proteccion_de_datos_y_seguridad_digital",
    "sostenibilidad_recuperacion_y_fondos_europeos"
]

vectorstores = {
    name: Qdrant(
        client=client,
        collection_name=name,
        embeddings=emb
    )
    for name in COLLECTIONS_SEARCH
}
def contexto_multi_colecciones(query: str, k: int = 10) -> str:
    """
    Recorre cada colecciÃ³n, extrae los k documentos mÃ¡s similares
    y devuelve un string combinando todo, marcado por cabeceras.
    """
    bloques = []
    for nombre, store in vectorstores.items():
        docs = store.similarity_search(query, k=k)
        if not docs:
            continue
        # Â­â”† Opcional: podrÃ­as resumir aquÃ­ cada bloque con el LLM si pesa demasiado
        bloque = "\n".join(d.page_content for d in docs)
        bloques.append(f"### {nombre}\n{bloque}")
    return "\n\n".join(bloques)


# â”€â”€â”€ thresholds.py â”€â”€â”€
EU_THRESHOLDS_2025 = {
     "services_subcentral": 221_000,   # â‚¬  Sin IVA
 }

SIMPLIFIED_LIMIT = 215_000           # hasta 214.999,99Â â‚¬ â†’ art.159.1
ABBREV_LIMIT     = 60_000            # art.159.6


# â”€â”€â”€ helpers_contract.py â”€â”€â”€

def procedure_type(vec: float) -> str:
    if vec >= EU_THRESHOLDS_2025["services_subcentral"]:
        return "abierto_ordinario"
    if vec <= ABBREV_LIMIT:
        return "simplificado_abreviado"
    if vec <= SIMPLIFIED_LIMIT:
        return "abierto_simplificado"
    return "abierto_ordinario"

def sara(vec: float) -> bool:
    return vec >= EU_THRESHOLDS_2025["services_subcentral"]


# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# 1.â€¯Historial
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
history = InMemoryChatMessageHistory()
def construir_historial_chat(msgs):
    partes = []
    for m in msgs[-6:]:
        pref = "Humano: " if isinstance(m, HumanMessage) else "Asistente: "
        partes.append(pref + m.content)
    return "\n".join(partes)

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# 2â€‘3.â€¯LLM base y chat casual
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
llm = ChatGoogleGenerativeAI(model="gemini-2.5-flash", temperature=0.5)
chat_chain = (
    ChatPromptTemplate.from_messages(
        [("system", "Eres un asistente de IA amistoso y Ãºtil."),
         ("human", "{question}")]
    )
    | llm
)

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# 4.â€¯Carga y troceo de artÃ­culos DESDE PDF
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
from langchain_community.document_loaders import PyPDFLoader            # â”€â”€â”€ CAMBIO â”€â”€â”€

# â”€â”€â”€ CAMBIO â”€â”€â”€: patrones y helpers para dividir PDFs en artÃ­culos
REG_TITULO_LINEA = re.compile(
    r'^\s*(?:ArtÃ­culo\s+\d+[\.\)\-:]?\s+.+?|'
    r'DisposiciÃ³n\s+(?:adicional|transitoria|derogatoria|final)\s+\d*[A-Z]?[\.\)\-:]?.*?|'
    r'PreÃ¡mbulo|ExposiciÃ³n\s+de\s+motivos|Anexo\s+\w+.*?)\s*$',
    re.IGNORECASE
)
REG_ARTICULO_INLINE = re.compile(
    r'\bArtÃ­culo\s+\d+[\.\)\-:]?\s+[A-ZÃÃ‰ÃÃ“ÃšÃœÃ‘][^\n]*',
    re.IGNORECASE
)

def split_inline_articulos(texto, pagina, titulo_padre):
    mats = list(REG_ARTICULO_INLINE.finditer(texto))
    if not mats:
        return [{"titulo": titulo_padre or "(sin tÃ­tulo)",
                 "contenido": texto.strip(), "pagina": pagina}]
    bloques = []
    for i, m in enumerate(mats):
        inicio = m.end()
        fin    = mats[i+1].start() if i+1<len(mats) else len(texto)
        titulo = titulo_padre if i==0 and titulo_padre else m.group(0).strip()
        bloques.append({"titulo": titulo,
                        "contenido": texto[inicio:fin].strip(),
                        "pagina": pagina})
    return bloques

def procesar_pdf(ruta_pdf: Path):
    loader  = PyPDFLoader(str(ruta_pdf))
    paginas = loader.load()

    bloques, bloque = [], {"titulo": None, "contenido": "", "pagina": None}

    for doc in paginas:
        pagina = doc.metadata.get("page") or doc.metadata.get("page_number")
        for linea in (doc.page_content or "").splitlines():
            linea = linea.strip()
            if not linea: 
                continue
            if REG_TITULO_LINEA.match(linea):
                if bloque["titulo"] and bloque["contenido"].strip():
                    bloques.extend(
                        split_inline_articulos(bloque["contenido"],
                                               bloque["pagina"],
                                               bloque["titulo"])
                    )
                bloque = {"titulo": linea, "contenido": "", "pagina": pagina}
            else:
                bloque["contenido"] += linea + "\n"

    if bloque["titulo"] and bloque["contenido"].strip():
        bloques.extend(
            split_inline_articulos(bloque["contenido"],
                                   bloque["pagina"],
                                   bloque["titulo"])
        )
    return bloques

# â”€â”€â”€ FIN helpers PDF â”€â”€â”€

def split_articulo_en_partes(titulo, texto, pagina, max_chars=1800):
    buffer, partes, idx = f"{titulo}\n", [], 1
    for p in texto.splitlines():
        p = p.strip()
        if not p: continue
        if len(buffer) + len(p) < max_chars:
            buffer += p + "\n"
        else:
            partes.append(
                Document(
                    page_content=f"[PÃ¡gina {pagina}]\n{titulo}\n(Parte {idx})\n{buffer.strip()}",
                    metadata={"titulo": titulo, "parte": idx, "page": pagina}
                )
            )
            idx, buffer = idx + 1, p + "\n"
    if buffer.strip():
        partes.append(
            Document(
                page_content=f"[PÃ¡gina {pagina}]\n{titulo}\n(Parte {idx})\n{buffer.strip()}",
                metadata={"titulo": titulo, "parte": idx, "page": pagina}
            )
        )
    return partes

# â”€â”€â”€ CAMBIO â”€â”€â”€: carga chunks directamente desde los PDF
def cargar_chunks_desde_pdfs(carpeta):
    chunks = []
    for path in Path(carpeta).glob("*.pdf"):
        for entrada in procesar_pdf(path):
            for p in split_articulo_en_partes(
                entrada["titulo"], entrada["contenido"], entrada["pagina"]
            ):
                p.metadata["source"] = path.name
                chunks.append(p)
    return chunks

def agrupar_chunks_por_titulo(chs):
    grupos = defaultdict(list)
    for d in chs:
        grupos[d.metadata["titulo"]].append(d)
    fusion = []
    for titulo, docs in grupos.items():
        docs.sort(key=lambda d: d.metadata.get("parte", 0))
        fusion.append(
            Document(
                page_content="\n".join(d.page_content for d in docs),
                metadata=docs[0].metadata,
            )
        )
    return fusion

# â”€â”€â”€ CAMBIO â”€â”€â”€
chunks = cargar_chunks_desde_pdfs(PDF_DIR)

# Ãndice auxiliar â†’  nÃºmero de artÃ­culo  â†’ [chunks]
idx_por_num = defaultdict(list)
pat_num = re.compile(r"\b(\d+)\b")
for c in chunks:
    if m := pat_num.search(c.metadata["titulo"]):
        idx_por_num[m.group(1)].append(c)

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# 7.â€¯Embeddings y Qdrant
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

# if client.collection_exists(COLLECTION_NAME):
#     client.delete_collection(COLLECTION_NAME)

# client.create_collection(
#     COLLECTION_NAME,
#     vectors_config=qmodels.VectorParams(size=768, distance=qmodels.Distance.COSINE),
# )
vectorstore = Qdrant(client=client, collection_name=COLLECTION_NAME, embeddings=emb)

# vectorstore.add_documents(chunks)
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# 8.â€¯Cadena RAG
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
rag_prompt = PromptTemplate.from_template(
    "Eres un experto redactor de licitaciones pÃºblicas en EspaÃ±a, especializado en la elaboraciÃ³n de pliegos de clÃ¡usulas administrativas particulares. "
    "Tu tarea es redactar, desde cero, un pliego completo y tÃ©cnicamente riguroso para un contrato de servicios informÃ¡ticos (CPV 72500000). "
    "Debes utilizar un lenguaje jurÃ­dico-administrativo preciso, estructurado conforme a la normativa vigente en EspaÃ±a.\n\n"
    "Debes fundamentarte especialmente en la Ley 9/2017, de 8 de noviembre, de Contratos del Sector PÃºblico, y citar los artÃ­culos relevantes "
    "en cada apartado (por ejemplo: objeto del contrato, procedimiento de adjudicaciÃ³n, criterios de solvencia, garantÃ­as, etc.). "
    "TambiÃ©n puedes apoyarte en otras normas complementarias o guÃ­as oficiales cuando sea adecuado.\n\n"
    "Utiliza la documentaciÃ³n proporcionada como soporte y referencia directa, y ten en cuenta el historial del chat para mantener la coherencia del contenido.\n\n"
    "Historial del chat:\n{chat_history}\n\n"
    "DocumentaciÃ³n de apoyo:\n{context}\n\n"
    "InstrucciÃ³n o pregunta especÃ­fica:\n{question}"
)
doc_chain = LLMChain(llm=llm, prompt=rag_prompt)
qa_chain = RunnableMap({
    "context":     lambda x: vectorstore.similarity_search(x["query"], k=25),
    "question":    lambda x: x["query"],
    "chat_history":lambda x: x["chat_history"],
}) | doc_chain

def ask_float(prompt):
    while True:
        try:
            return float(input(prompt).replace('.', '').replace(',', '.'))
        except ValueError:
            print("â— Introduce un nÃºmero vÃ¡lido.")

def preguntar_datos():
    print("ğŸ“ Vamos a generar una licitaciÃ³n personalizada. Contesta las siguientes preguntas:\n")

    datos = {}

    # â”€â”€ Pregunta preliminar â”€â”€
    datos["solo_software"] = input("Â¿Solo software (s/n)? ").lower().startswith("s")

    # 1. Datos del contrato
    print("ğŸŸ¢ 1. DATOS DEL CONTRATO")
    datos["objeto_contrato"]       = input("Â¿CuÃ¡l es el objeto del contrato? ")
    datos["necesidad_resuelta"]    = input("Â¿QuÃ© necesidad resuelve este servicio? ")
    datos["responsable_contrato"]  = input("Â¿QuiÃ©n serÃ¡ el responsable del contrato (nombre y cargo)? ")
    datos["lugar_prestacion"]      = input("Â¿DÃ³nde se prestarÃ¡ el servicio? ")

    # 2. Presupuesto
    print("\nğŸ’° 2. PRESUPUESTO")
    datos["pbl_sin_iva"]    = ask_float("Â¿PBL sin IVA (â‚¬)? ")
    datos["iva"]            = ask_float("Â¿% IVA aplicable? ")
    datos["duracion_meses"] = int(ask_float("DuraciÃ³n inicial (meses): "))
    datos["prorrogas"]      = int(ask_float("Â¿Meses de prÃ³rroga previstos? "))

    # ğŸ‘‰ Calcula VEC e infiere procedimiento y SARA
    vec = datos["pbl_sin_iva"] * (datos["duracion_meses"] + datos["prorrogas"]) / datos["duracion_meses"]

    datos.update({
        "vec":          vec,
        "procedimiento": procedure_type(vec),
        "sara":          sara(vec),
    })

    # 3. Empresa licitadora
    print("\nğŸ“„ 3. EMPRESA LICITADORA")
    datos["nombre_empresa"]    = input("Â¿Nombre de la empresa? ")
    datos["cif"]               = input("Â¿CIF? ")
    datos["domicilio_fiscal"]  = input("Â¿Domicilio fiscal? ")
    datos["persona_contacto"]  = input("Â¿Nombre y correo de la persona de contacto? ")
    datos["censo_aeat"]        = input("Â¿EstÃ¡ inscrita la empresa en el Censo de empresarios de la AEAT? ")

    # 4. DocumentaciÃ³n
    print("\nğŸ” 4. DOCUMENTACIÃ“N Y REQUISITOS")
    datos["declaracion_responsable"] = input("Â¿PresentarÃ¡s la DeclaraciÃ³n Responsable? ")
    datos["oferta_economica"]        = input("Â¿Tienes oferta econÃ³mica lista? ")
    datos["acepta_pliego"]           = input("Â¿Aceptas las condiciones del pliego tÃ©cnico? ")
    datos["perfiles_equipo"]         = input("Â¿Tu equipo cumple los perfiles mÃ­nimos exigidos? ")

    # 5. ProtecciÃ³n de datos
    print("\nğŸ”’ 5. PROTECCIÃ“N DE DATOS")
    datos["trata_datos"] = input("Â¿TratarÃ¡s datos personales por cuenta del contratante? ").strip().lower()
    if datos["trata_datos"] in ["sÃ­", "si", "s"]:
        datos["subcontrata_tratamiento"] = input("Â¿SubcontratarÃ¡s servidores o servicios de tratamiento? ")
    else:
        datos["subcontrata_tratamiento"] = None

    # 6. SubcontrataciÃ³n
    print("\nğŸ“¦ 6. SUBCONTRATACIÃ“N")
    datos["subcontratacion"] = input("Â¿Vas a subcontratar alguna parte del servicio? ").strip().lower()
    if datos["subcontratacion"] in ["sÃ­", "si", "s"]:
        datos["empresas_vinculadas"] = input("Â¿Tus subcontratistas son empresas no vinculadas? ")
    else:
        datos["empresas_vinculadas"] = None

    # 7. Criterios de valoraciÃ³n
    print("\nğŸ“‰ 7. CRITERIOS DE VALORACIÃ“N")
    datos["precio_ofertado"] = ask_float("Â¿CuÃ¡l es tu precio ofertado (sin IVA)? ")
    datos["precio_anormal"] = input("Â¿Has revisado que no sea anormalmente bajo? ")

    # 8. PRTR / NextGen
    print("\nğŸ§¾ 8. NEXTGENERATION / PRTR")
    datos["cumple_prtr"] = input("Â¿Cumples con principios medioambientales y antifraude del PRTR? (sÃ­/no): ").strip().lower()
    if datos["cumple_prtr"] in ["sÃ­", "si", "s"]:
        datos["modelos_b1_b2_c"] = input("Â¿Has rellenado los modelos B1, B2 y C? ")
        datos["titular_real"]    = input("Â¿QuiÃ©n es el titular real de la empresa? ")
    else:
        datos["modelos_b1_b2_c"] = None
        datos["titular_real"]    = None

    # ğŸ›¡ï¸ GARANTÃAS
    print("\nğŸ›¡ï¸  GARANTÃAS")
    datos["garantia_provisional"] = input("Â¿Exigir garantÃ­a provisional? (s/n): ").lower().startswith("s")
    if datos["garantia_provisional"]:
        datos["garantia_provisional_pct"] = ask_float("Â¿% o cuantÃ­a de esa garantÃ­a?: ")

    # ğŸ“Š SOLVENCIA
    print("\nğŸ“Š SOLVENCIA")
    datos["vol_negocios_min"]         = ask_float("Volumen anual de negocios mÃ­nimo (â‚¬): ")
    datos["servicios_similares_min"]  = ask_float("Importe anual servicios similares mÃ­nimo (â‚¬): ")
    datos["seguro_rc"]                = ask_float("Seguro de RC profesional mÃ­nimo (â‚¬): ")

    # ğŸ“‰ 9. PONDERACIÃ“N DE CRITERIOS
    print("\nğŸ“‰ 9. PONDERACIÃ“N DE CRITERIOS")
    datos["peso_metodologia"] = ask_float("% MetodologÃ­a y plan de trabajo: ")
    datos["peso_equipo"]      = ask_float("% Equipo y experiencia: ")
    datos["peso_dnsk"]        = ask_float("% DNSH / sostenibilidad: ")
    datos["peso_precio"]      = ask_float("% Oferta econÃ³mica: ")

    return datos


def generar_licitacion(datos):
    print("\nğŸ“„ RESUMEN DE LICITACIÃ“N GENERADO:\n")

    texto = f"""
ğŸ”¹ Objeto del contrato:
{datos['objeto_contrato']}

ğŸ”¹ Necesidad que se pretende resolver:
{datos['necesidad_resuelta']}

ğŸ”¹ Lugar de prestaciÃ³n del servicio:
{datos['lugar_prestacion']}

ğŸ”¹ Persona responsable del contrato:
{datos['responsable_contrato']}

ğŸ”¹ Presupuesto base (sin IVA): {datos['pbl_sin_iva']} â‚¬
ğŸ”¹ IVA aplicable: {datos['iva']}%
ğŸ”¹ PrÃ³rrogas previstas: {datos['prorrogas']}

ğŸ”¹ Empresa licitadora:
Nombre: {datos['nombre_empresa']}
CIF: {datos['cif']}
Domicilio fiscal: {datos['domicilio_fiscal']}
Persona de contacto: {datos['persona_contacto']}
Inscrita en el censo AEAT: {datos['censo_aeat']}

ğŸ”¹ DocumentaciÃ³n y requisitos:
- DeclaraciÃ³n Responsable: {datos['declaracion_responsable']}
- Oferta EconÃ³mica: {datos['oferta_economica']}
- AceptaciÃ³n del Pliego TÃ©cnico: {datos['acepta_pliego']}
- Perfiles del equipo: {datos['perfiles_equipo']}
"""

    # ProtecciÃ³n de datos (condicional)
    if datos["trata_datos"] in ["sÃ­", "si", "s"]:
        texto += f"""
ğŸ”¹ ProtecciÃ³n de datos:
- Â¿TratarÃ¡ datos personales?: SÃ­
- Â¿SubcontratarÃ¡ tratamiento?: {datos['subcontrata_tratamiento']}
"""
    else:
        texto += "\nğŸ”¹ ProtecciÃ³n de datos: No se tratarÃ¡n datos personales.\n"

    # SubcontrataciÃ³n (condicional)
    if datos["subcontratacion"] in ["sÃ­", "si", "s"]:
        texto += f"""
ğŸ”¹ SubcontrataciÃ³n:
- Â¿Se subcontrata parte del servicio?: SÃ­
- Empresas no vinculadas: {datos['empresas_vinculadas']}
"""
    else:
        texto += "\nğŸ”¹ SubcontrataciÃ³n: No se prevÃ© subcontrataciÃ³n.\n"

    # Oferta econÃ³mica
    texto += f"""
ğŸ”¹ Oferta econÃ³mica:
- Precio ofertado: {datos['precio_ofertado']} â‚¬
- RevisiÃ³n de precio anormalmente bajo: {datos['precio_anormal']}
"""

    # PRTR (condicional)
    if datos["cumple_prtr"] in ["sÃ­", "si", "s"]:
        texto += f"""
ğŸ”¹ FinanciaciÃ³n NextGeneration / PRTR:
- Cumple principios PRTR: SÃ­
- Modelos B1, B2 y C: {datos['modelos_b1_b2_c']}
- Titular real de la empresa: {datos['titular_real']}
"""

    print(texto)

def construir_pregunta_final(respuestas):
    texto = "Quiero generar una licitaciÃ³n pÃºblica con los siguientes datos:\n\n"

    for clave, valor in respuestas.items():
        texto += f"- {clave.replace('_', ' ').capitalize()}: {valor}\n"

    texto += "\nRedacta la licitaciÃ³n completa con lenguaje tÃ©cnico y formato oficial."
    return texto



if __name__ == "__main__":
    respuestas = preguntar_datos()
    generar_licitacion(respuestas) 
    query = construir_pregunta_final(respuestas)
    hist = construir_historial_chat(history.messages)
    MAX_MSGS = 100
    if len(history.messages) > MAX_MSGS:
        history.messages = history.messages[-MAX_MSGS:]
    contexto = contexto_multi_colecciones(query, k=25)   # ajusta k a tu gusto


    out = doc_chain.invoke({
        "question": query,
        "chat_history": hist,
        "context": contexto
    })

    answer = out["text"] if isinstance(out, dict) else out
    print("\nğŸ“„ LICITACIÃ“N GENERADA POR IA:\n")
    print(answer)

    history.add_user_message(query)
    history.add_ai_message(answer)

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# 9. Bucle principal interactivo
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
print("ğŸ¤–  Gemini RAG activo.  Escribe 'licitacion' para generar un pliego, 'salir' para terminar.\n")

while True:
    query = input("\nTÃº: ").strip()
    if not query:
        continue

    lower_q = query.lower()

    # --- Salida ---
    if lower_q == "salir":
        print("ğŸ«‚  Â¡Hasta luego!")
        break

    # --- Modo generaciÃ³n de licitaciÃ³n completa ---
    if lower_q == "licitacion":
        respuestas = preguntar_datos()
        query      = construir_pregunta_final(respuestas)

        contexto = contexto_multi_colecciones(query, k=10)
        hist     = construir_historial_chat(history.messages)

        out    = doc_chain.invoke({"question": query, "chat_history": hist, "context": contexto})
        answer = out["text"] if isinstance(out, dict) else out

        print("\nğŸ“„ LICITACIÃ“N GENERADA POR IA:\n")
        print(answer)

        history.add_user_message(query)
        history.add_ai_message(answer)

        # Poda opcional
        if len(history.messages) > 100:
            history.messages = history.messages[-100:]

        continue  # vuelve al prompt


    try:
        # --- Consulta normal ---
        # Si el usuario menciona un nÃºmero que coincide con tu Ã­ndice local por artÃ­culo,
        # prioriza ese match hiper-preciso de la colecciÃ³n reciÃ©n cargada en memoria.
        num_match = re.search(r"\b(\d+)\b", query)
        if num_match and num_match.group(1) in idx_por_num:
            rel = idx_por_num[num_match.group(1)]
            rel.sort(key=lambda d: d.metadata.get("parte", 0))
            matches_docs = agrupar_chunks_por_titulo(rel)
            contexto = "\n\n".join(d.page_content for d in matches_docs)
        else:
            # Si no hay match directo â†’ buscar en TODAS las colecciones Qdrant
            contexto = contexto_multi_colecciones(query, k=8)

        if contexto.strip():
            hist = construir_historial_chat(history.messages)
            out = doc_chain.invoke({"question": query, "chat_history": hist, "context": contexto})
            MAX_MSGS = 100
        if len(history.messages) > MAX_MSGS:
            history.messages = history.messages[-MAX_MSGS:]
            answer = out["text"] if isinstance(out, dict) else out

            print("\nğŸ“„  RAG:\n" + answer + "\n")

            history.add_user_message(query)
            history.add_ai_message(answer)
        else:
            # Fallback chat sin RAG
            resp = chat_chain.invoke({"question": query})
            print("\nğŸ—£ï¸  Chat:\n" + resp.content + "\n")
            history.add_user_message(query)
            history.add_ai_message(resp.content)

    except Exception as e:
        print("âš ï¸  Error en el loop:", e)

me genera este texto: ğŸ“„ LICITACIÃ“N GENERADA POR IA:

## PLIEGO DE CLÃUSULAS ADMINISTRATIVAS PARTICULARES

**CONTRATO DE SERVICIOS INFORMÃTICOS PARA EL DESARROLLO E IMPLANTACIÃ“N DE UNA PLATAFORMA DE GESTIÃ“N DOCUMENTAL**

**EXPEDIENTE NÂº [NÃšMERO DE EXPEDIENTE]**

---

### PREÃMBULO

El presente Pliego de ClÃ¡usulas Administrativas Particulares (en adelante, PCAP) tiene por objeto regular las condiciones administrativas a las que ha de ajustarse la contrataciÃ³n de los servicios de desarrollo e implantaciÃ³n de una plataforma de gestiÃ³n documental para el Ayuntamiento de LogroÃ±o, asÃ­ como la determinaciÃ³n de los derechos y obligaciones de las partes.

La tramitaciÃ³n de este expediente se rige por lo dispuesto en la Ley 9/2017, de 8 de noviembre, de Contratos del Sector PÃºblico, por la que se transponen al ordenamiento jurÃ­dico espaÃ±ol las Directivas del Parlamento Europeo y del Consejo 2014/23/UE y 2014/24/UE, de 26 de febrero de 2014 (en adelante, LCSP), su normativa de desarrollo y, supletoriamente, por las restantes normas de derecho administrativo y, en su defecto, por las normas de derecho privado.

El presente contrato se enmarca en las actuaciones financiadas por el Plan de RecuperaciÃ³n, TransformaciÃ³n y Resiliencia (PRTR), lo que implica la aplicaciÃ³n de los principios y requisitos establecidos en la normativa europea y nacional que lo regula, en particular el principio de "no causar un perjuicio significativo" (Do No Significant Harm - DNSH).

---

### CAPÃTULO I: DISPOSICIONES GENERALES

**ArtÃ­culo 1. Objeto del Contrato y CÃ³digo CPV.**

1.  El objeto del presente contrato es la prestaciÃ³n de servicios informÃ¡ticos consistentes en el desarrollo, implantaciÃ³n y puesta en marcha de una plataforma de gestiÃ³n documental para el Ayuntamiento de LogroÃ±o. El contrato abarca exclusivamente el desarrollo e implantaciÃ³n de software, conforme al CÃ³digo CPV 72500000 (Servicios informÃ¡ticos).
2.  Las prestaciones concretas que constituyen el objeto del contrato se detallan en el Pliego de Prescripciones TÃ©cnicas (en adelante, PPT), que forma parte integrante del presente PCAP como Anexo III.

**ArtÃ­culo 2. Naturaleza y RÃ©gimen JurÃ­dico.**

1.  El presente contrato tiene la consideraciÃ³n de contrato de servicios, de conformidad con lo establecido en el artÃ­culo 17 de la LCSP.
2.  Su rÃ©gimen jurÃ­dico serÃ¡ el establecido en la LCSP, sus disposiciones de desarrollo y las normas complementarias, asÃ­ como el presente PCAP y el PPT. En lo no previsto en estas normas, se aplicarÃ¡n supletoriamente las restantes normas de derecho administrativo y, en su defecto, las normas de derecho privado.

**ArtÃ­culo 3. Necesidad a Satisfacer y JustificaciÃ³n.**

1.  La necesidad que se pretende satisfacer con la celebraciÃ³n del presente contrato es facilitar la digitalizaciÃ³n, almacenamiento y consulta de la documentaciÃ³n interna del Ayuntamiento de LogroÃ±o, optimizando los procesos administrativos y mejorando la eficiencia en la gestiÃ³n de la informaciÃ³n.
2.  La justificaciÃ³n de la necesidad y la adecuaciÃ³n del objeto del contrato a la misma se contiene en el expediente de contrataciÃ³n, de conformidad con el artÃ­culo 116.4.e) de la LCSP. Asimismo, se adjunta el informe de insuficiencia de medios propios para la realizaciÃ³n de la prestaciÃ³n, tal como exige el artÃ­culo 116.4.f) de la LCSP.

**ArtÃ­culo 4. Presupuesto Base de LicitaciÃ³n, Valor Estimado del Contrato y FinanciaciÃ³n.**

1.  El presupuesto base de licitaciÃ³n (PBL) del presente contrato asciende a **VEINTIÃšN MIL EUROS (21.000,00 â‚¬)**, sin incluir el Impuesto sobre el Valor AÃ±adido (IVA).
2.  El IVA aplicable es del 21%, lo que supone **CUATRO MIL CUATROCIENTOS DIEZ EUROS (4.410,00 â‚¬)**.
3.  El presupuesto total con IVA asciende a **VEINTICINCO MIL CUATROCIENTOS DIEZ EUROS (25.410,00 â‚¬)**.
4.  De conformidad con el artÃ­culo 100.2 de la LCSP, el presupuesto base de licitaciÃ³n se ha desglosado, indicando los costes directos e indirectos y otros eventuales gastos calculados para su determinaciÃ³n. Se ha tenido en cuenta que, en los contratos en que el coste de los salarios de las personas empleadas para su ejecuciÃ³n formen parte del precio total del contrato, el presupuesto base de licitaciÃ³n indicarÃ¡ de forma desglosada y con desagregaciÃ³n de gÃ©nero y categorÃ­a profesional los costes salariales estimados a partir del convenio laboral de referencia.
5.  El valor estimado del contrato (VEC), calculado conforme al artÃ­culo 101 de la LCSP, asciende a **TREINTA Y UN MIL QUINIENTOS EUROS (31.500,00 â‚¬)**, incluyendo las posibles prÃ³rrogas.
6.  La financiaciÃ³n del contrato se realizarÃ¡ con cargo a los fondos propios del Ayuntamiento de LogroÃ±o, y se enmarca en las actuaciones financiadas por el Plan de RecuperaciÃ³n, TransformaciÃ³n y Resiliencia (PRTR), lo que implica la observancia de la normativa especÃ­fica aplicable a dichos fondos. Se incorpora al expediente el certificado de existencia de crÃ©dito, conforme al artÃ­culo 116.3 de la LCSP.

**ArtÃ­culo 5. DuraciÃ³n del Contrato y Posibles PrÃ³rrogas.**

1.  La duraciÃ³n inicial del contrato serÃ¡ de **DOCE (12) meses** a contar desde la fecha de su formalizaciÃ³n.
2.  El contrato podrÃ¡ ser prorrogado por mutuo acuerdo de las partes antes de la finalizaciÃ³n del plazo de duraciÃ³n inicial, por un periodo mÃ¡ximo de **SEIS (6) meses**, sin que la duraciÃ³n total del contrato, incluidas las prÃ³rrogas, pueda exceder de **DIECIOCHO (18) meses**. Las prÃ³rrogas serÃ¡n obligatorias para el contratista cuando se hayan establecido en el presente PCAP y el anuncio de licitaciÃ³n, y su importe no exceda del valor estimado inicial del contrato, conforme al artÃ­culo 29.2 de la LCSP.

**ArtÃ­culo 6. DivisiÃ³n en Lotes.**

El objeto del presente contrato no se ha dividido en lotes, de conformidad con el artÃ­culo 99.3 de la LCSP, debido a que la naturaleza de la prestaciÃ³n (desarrollo e implantaciÃ³n de una plataforma integral) hace que la divisiÃ³n en lotes pueda comprometer la correcta ejecuciÃ³n del mismo, dificultando la coordinaciÃ³n y la interoperabilidad de los componentes, y generando un riesgo de fragmentaciÃ³n que podrÃ­a mermar la calidad del servicio. Esta decisiÃ³n se encuentra debidamente justificada en el expediente de contrataciÃ³n.

**ArtÃ­culo 7. Confidencialidad.**

1.  El contratista y su personal estarÃ¡n sujetos a la mÃ¡s estricta confidencialidad respecto de toda la informaciÃ³n, datos, documentos y conocimientos a los que tengan acceso durante la ejecuciÃ³n del contrato, especialmente aquellos que sean clasificados o protegidos por la normativa vigente.
2.  Esta obligaciÃ³n de confidencialidad se mantendrÃ¡ incluso despuÃ©s de la finalizaciÃ³n del contrato. El incumplimiento de esta obligaciÃ³n podrÃ¡ dar lugar a la resoluciÃ³n del contrato y a las responsabilidades que legalmente correspondan.

**ArtÃ­culo 8. ProtecciÃ³n de Datos Personales.**

1.  Dado que el presente contrato implica el tratamiento de datos personales, el contratista tendrÃ¡ la consideraciÃ³n de encargado del tratamiento, debiendo ajustarse a lo dispuesto en el Reglamento (UE) 2016/679 del Parlamento Europeo y del Consejo, de 27 de abril de 2016 (RGPD), la Ley OrgÃ¡nica 3/2018, de 5 de diciembre, de ProtecciÃ³n de Datos Personales y garantÃ­a de los derechos digitales (LOPDGDD), y demÃ¡s normativa aplicable en materia de protecciÃ³n de datos.
2.  El Ayuntamiento de LogroÃ±o, como responsable del tratamiento, establecerÃ¡ las instrucciones precisas para el tratamiento de los datos personales en el PPT. El contratista deberÃ¡ cumplir con las siguientes obligaciones, sin perjuicio de otras que se especifiquen en el PPT:
    *   Tratar los datos personales Ãºnicamente siguiendo las instrucciones documentadas del responsable del tratamiento.
    *   Garantizar que las personas autorizadas para tratar datos personales se hayan comprometido a respetar la confidencialidad o estÃ©n sujetas a una obligaciÃ³n de confidencialidad de naturaleza estatutaria.
    *   Aplicar las medidas de seguridad tÃ©cnicas y organizativas apropiadas para garantizar un nivel de seguridad adecuado al riesgo, conforme al Esquema Nacional de Seguridad (ENS).
    *   Asistir al responsable del tratamiento en la respuesta al ejercicio de los derechos de los interesados.
    *   Notificar al responsable del tratamiento las violaciones de la seguridad de los datos personales sin dilaciÃ³n indebida.
    *   Suprimir o devolver todos los datos personales una vez finalizada la prestaciÃ³n de los servicios, y suprimir las copias existentes.
    *   Poner a disposiciÃ³n del responsable toda la informaciÃ³n necesaria para demostrar el cumplimiento de sus obligaciones.
3.  Se establece que el tratamiento de datos personales serÃ¡ interno por parte del contratista, no permitiÃ©ndose la subcontrataciÃ³n del tratamiento de datos a terceros sin la previa autorizaciÃ³n expresa y por escrito del Ayuntamiento de LogroÃ±o, y siempre que se cumplan las condiciones establecidas en el artÃ­culo 28.2.d) del RGPD.

**ArtÃ­culo 9. Medidas de Seguridad de la InformaciÃ³n (Esquema Nacional de Seguridad - ENS).**

1.  El contratista deberÃ¡ cumplir con las medidas de seguridad de la informaciÃ³n establecidas en el Real Decreto 311/2022, de 3 de mayo, por el que se regula el Esquema Nacional de Seguridad (ENS), asÃ­ como con las guÃ­as CCN-STIC que resulten de aplicaciÃ³n.
2.  El sistema de informaciÃ³n objeto del presente contrato se categoriza como de **CATEGORÃA MEDIA** en cuanto a la seguridad, lo que implica la aplicaciÃ³n de las siguientes medidas de seguridad, entre otras que se detallarÃ¡n en el PPT:
    *   **Marco Organizacional (org):** Cumplimiento de la polÃ­tica de seguridad (org.1), normativa de seguridad (org.2), procedimientos de seguridad (org.3) y proceso de autorizaciÃ³n (org.4).
    *   **Marco Operacional (op):**
        *   AnÃ¡lisis de riesgos semiformal (op.pl.1 + R1).
        *   Arquitectura de seguridad con sistema de gestiÃ³n (op.pl.2 + R1).
        *   Proceso formal para la adquisiciÃ³n de nuevos componentes (op.pl.3).
        *   PrevisiÃ³n y monitorizaciÃ³n de la capacidad (op.pl.4 + R1).
        *   Uso de componentes certificados del CPSTIC (op.pl.5).
        *   Mantenimiento de inventario de activos (op.exp.1).
        *   ConfiguraciÃ³n de seguridad (op.exp.2).
        *   GestiÃ³n de incidentes (op.exp.7 + R1).
        *   Acuerdos de nivel de servicio con terceros (op.ext.2).
    *   **Medidas de ProtecciÃ³n (mp):**
        *   **Personal (mp.per):** ConcienciaciÃ³n (mp.per.1), formaciÃ³n (mp.per.4).
        *   **Software (mp.sw):**
            *   Desarrollo de aplicaciones en entorno separado (mp.sw.1). Se exigirÃ¡ metodologÃ­a de desarrollo seguro (mp.sw.1.r2.1), seguridad desde el diseÃ±o (mp.sw.1.r3.1) y gestiÃ³n de datos de pruebas (mp.sw.1.r4.1).
            *   AceptaciÃ³n y puesta en servicio con pruebas en entorno aislado (mp.sw.2 + R1).
        *   **InformaciÃ³n (mp.info):**
            *   ProtecciÃ³n de datos personales (mp.info.1).
            *   CalificaciÃ³n de la informaciÃ³n (mp.info.2) para la dimensiÃ³n de confidencialidad (nivel MEDIO).
            *   Uso de firma electrÃ³nica (mp.info.3 + R1 + R2 + R3) para las dimensiones de integridad y autenticidad (nivel MEDIO/ALTO), requiriendo certificados cualificados y algoritmos autorizados.
            *   Limpieza de documentos (mp.info.5).
            *   RealizaciÃ³n de copias de seguridad (mp.info.6 + R1) para la dimensiÃ³n de disponibilidad (nivel MEDIO).
3.  El contratista deberÃ¡ presentar una declaraciÃ³n de conformidad con el ENS, asÃ­ como la documentaciÃ³n que acredite el cumplimiento de las medidas de seguridad exigidas, de acuerdo con lo que se establezca en el PPT.

**ArtÃ­culo 10. Principio de "No causar un perjuicio significativo" (DNSH).**

1.  En cumplimiento de la normativa europea y nacional relativa al Plan de RecuperaciÃ³n, TransformaciÃ³n y Resiliencia (PRTR), el presente contrato se sujetarÃ¡ al principio de "no causar un perjuicio significativo" (Do No Significant Harm - DNSH), conforme al artÃ­culo 17 del Reglamento (UE) 2020/852 del Parlamento Europeo y del Consejo, de 18 de junio de 2020, relativo al establecimiento de un marco para facilitar las inversiones sostenibles.
2.  El contratista deberÃ¡ garantizar que las actuaciones objeto del contrato no causen un perjuicio significativo a ninguno de los seis objetivos medioambientales definidos en el Reglamento (UE) 2020/852:
    *   MitigaciÃ³n del cambio climÃ¡tico.
    *   AdaptaciÃ³n al cambio climÃ¡tico.
    *   Uso sostenible y protecciÃ³n de los recursos hÃ­dricos y marinos.
    *   EconomÃ­a circular, incluida la prevenciÃ³n y el reciclado de residuos.
    *   PrevenciÃ³n y control de la contaminaciÃ³n a la atmÃ³sfera, el agua o el suelo.
    *   ProtecciÃ³n y restauraciÃ³n de la biodiversidad y los ecosistemas.
3.  El licitador deberÃ¡ presentar una declaraciÃ³n de compromiso de cumplimiento del principio DNSH, conforme al modelo que se adjunta como Anexo V, detallando cÃ³mo las medidas propuestas en su oferta contribuyen a este principio y, en particular, cÃ³mo se evita cualquier impacto negativo significativo. El incumplimiento de este principio durante la ejecuciÃ³n del contrato podrÃ¡ dar lugar a la resoluciÃ³n del mismo.
4.  La contribuciÃ³n del contrato a la transiciÃ³n digital se valora en un 100% (Campo de intervenciÃ³n 011: Soluciones de TIC para la AdministraciÃ³n, servicios electrÃ³nicos, aplicaciones), y a la transiciÃ³n ecolÃ³gica en un 0%, conforme a la metodologÃ­a de etiquetado digital (Anexo VII) y climÃ¡tico (Anexo VI) del Reglamento (UE) 2021/241, respectivamente.

---

### CAPÃTULO II: PROCEDIMIENTO DE ADJUDICACIÃ“N

**ArtÃ­culo 11. Tipo de Procedimiento.**

El presente contrato se adjudicarÃ¡ mediante **procedimiento abierto simplificado abreviado**, de conformidad con el artÃ­culo 159.6 de la LCSP, al ser un contrato de servicios cuyo valor estimado es inferior a 80.000 â‚¬ y no concurrir las circunstancias que impidan la aplicaciÃ³n de este procedimiento.

**ArtÃ­culo 12. Publicidad.**

1.  La licitaciÃ³n se anunciarÃ¡ en la Plataforma de ContrataciÃ³n del Sector PÃºblico (PCSP), conforme a lo dispuesto en el artÃ­culo 159.6 de la LCSP.
2.  El presente PCAP, el PPT y el resto de la documentaciÃ³n del expediente estarÃ¡n disponibles para su acceso universal y gratuito a travÃ©s de la PCSP.

**ArtÃ­culo 13. PresentaciÃ³n de Proposiciones.**

1.  **Forma de presentaciÃ³n:** Las proposiciones deberÃ¡n presentarse necesaria y Ãºnicamente por medios electrÃ³nicos a travÃ©s de la Plataforma de ContrataciÃ³n del Sector PÃºblico, de conformidad con la DisposiciÃ³n Adicional Decimosexta de la LCSP. No se admitirÃ¡ la presentaciÃ³n en soporte fÃ­sico.
2.  **Plazo de presentaciÃ³n:** El plazo de presentaciÃ³n de proposiciones serÃ¡ el indicado en el anuncio de licitaciÃ³n publicado en la PCSP.
3.  **DocumentaciÃ³n a presentar:** La oferta se presentarÃ¡ en dos archivos electrÃ³nicos diferenciados:
    *   **Archivo 1: DocumentaciÃ³n administrativa y criterios evaluables mediante juicio de valor.**
        *   **DeclaraciÃ³n Responsable:** Conforme al modelo del Anexo I del presente PCAP, en la que el firmante declare bajo su responsabilidad:
            *   Ostentar la representaciÃ³n de la sociedad que presenta la oferta.
            *   Contar con la adecuada solvencia econÃ³mica, financiera y tÃ©cnica o, en su caso, la clasificaciÃ³n correspondiente.
            *   Contar con las autorizaciones necesarias para ejercer la actividad.
            *   No estar incurso en prohibiciÃ³n de contratar alguna de las previstas en el artÃ­culo 71 de la LCSP.
            *   Pronunciarse sobre la existencia del compromiso a que se refiere el artÃ­culo 75.2 de la LCSP (compromiso de adscripciÃ³n de medios), en su caso.
            *   En el caso de empresas extranjeras, el sometimiento al fuero espaÃ±ol.
            *   El cumplimiento de las condiciones especiales de ejecuciÃ³n.
            *   El compromiso de cumplimiento del principio DNSH.
            *   La inscripciÃ³n en el Registro Oficial de Licitadores y Empresas Clasificadas del Sector PÃºblico (ROLECE) o en el registro equivalente de la Comunidad AutÃ³noma correspondiente, en la fecha final de presentaciÃ³n de ofertas. Si la inscripciÃ³n estuviera en trÃ¡mite, deberÃ¡ acreditarse la presentaciÃ³n de la solicitud de inscripciÃ³n junto con la documentaciÃ³n preceptiva y una declaraciÃ³n responsable de haber aportado la documentaciÃ³n preceptiva y de no haber recibido requerimiento de subsanaciÃ³n.
        *   **DocumentaciÃ³n relativa a los criterios de adjudicaciÃ³n evaluables mediante juicio de valor:** Propuesta de metodologÃ­a de trabajo, plan de proyecto, organizaciÃ³n del equipo, etc., conforme a lo especificado en el PPT. Esta documentaciÃ³n no deberÃ¡ contener ninguna referencia a la oferta econÃ³mica.
    *   **Archivo 2: ProposiciÃ³n econÃ³mica y criterios evaluables mediante fÃ³rmulas.**
        *   **ProposiciÃ³n EconÃ³mica:** Conforme al modelo del Anexo II del presente PCAP, incluyendo el precio ofertado (sin IVA y con IVA), y cualquier otro elemento cuantificable mediante fÃ³rmula.
        *   **DocumentaciÃ³n relativa a los criterios de adjudicaciÃ³n evaluables mediante fÃ³rmulas:** En su caso, aquella que permita la aplicaciÃ³n de las fÃ³rmulas establecidas en el ArtÃ­culo 15.2, si no estuviera ya incluida en la proposiciÃ³n econÃ³mica.
4.  **Uso de medios electrÃ³nicos:** La presentaciÃ³n de ofertas se realizarÃ¡ mediante el uso de medios electrÃ³nicos, garantizando la integridad y confidencialidad de las mismas. Se entenderÃ¡ por huella electrÃ³nica de la oferta el conjunto de datos cuyo proceso de generaciÃ³n garantiza que se relacionan de manera inequÃ­voca con el contenido de la oferta propiamente dicha, y que permiten detectar posibles alteraciones del contenido de esta garantizando su integridad, conforme a la DisposiciÃ³n Adicional Decimosexta.1.h) de la LCSP. Los formatos de los documentos electrÃ³nicos deberÃ¡n ajustarse a especificaciones pÃºblicamente disponibles y de uso no sujeto a restricciones (DA 16.1.j LCSP).
5.  **No se exigirÃ¡ la constituciÃ³n de garantÃ­a provisional** por parte de los licitadores, de conformidad con el artÃ­culo 159.4.b) de la LCSP.

**ArtÃ­culo 14. Mesa de ContrataciÃ³n.**

1.  La Mesa de ContrataciÃ³n serÃ¡ el Ã³rgano competente para la calificaciÃ³n de la documentaciÃ³n presentada, la valoraciÃ³n de las ofertas y la formulaciÃ³n de la propuesta de adjudicaciÃ³n.
2.  La Mesa de ContrataciÃ³n estarÃ¡ compuesta por los miembros designados al efecto por el Ã“rgano de ContrataciÃ³n.

**ArtÃ­culo 15. Criterios de AdjudicaciÃ³n.**

La adjudicaciÃ³n del contrato se realizarÃ¡ a la oferta econÃ³micamente mÃ¡s ventajosa, valorÃ¡ndose los siguientes criterios, de conformidad con los artÃ­culos 145 y 146 de la LCSP:

1.  **Criterios evaluables mediante juicio de valor (hasta 55 puntos):** La valoraciÃ³n de estos criterios se realizarÃ¡ por los servicios tÃ©cnicos del Ã³rgano de contrataciÃ³n, en un plazo no superior a siete dÃ­as, y deberÃ¡ estar efectuada con anterioridad a la apertura del archivo electrÃ³nico que contenga la oferta econÃ³mica, conforme al artÃ­culo 159.4.f) de la LCSP.
    *   **MetodologÃ­a de trabajo y plan de proyecto (hasta 25 puntos):** Se valorarÃ¡ la claridad, coherencia, detalle y adecuaciÃ³n de la metodologÃ­a propuesta para el desarrollo e implantaciÃ³n de la plataforma, asÃ­ como la planificaciÃ³n de las fases, hitos y entregables.
    *   **OrganizaciÃ³n y perfiles del equipo adscrito al proyecto (hasta 30 puntos):** Se valorarÃ¡ la experiencia, cualificaciÃ³n y adecuaciÃ³n de los perfiles profesionales propuestos para la ejecuciÃ³n del contrato, asÃ­ como la estructura organizativa del equipo y la asignaciÃ³n de responsabilidades. Se deberÃ¡ aportar la informaciÃ³n detallada de los perfiles conforme al Anexo III del PPT.

2.  **Criterios evaluables mediante la aplicaciÃ³n de fÃ³rmulas (hasta 45 puntos):**
    *   **Precio (hasta 35 puntos):** Se valorarÃ¡ la oferta econÃ³mica mÃ¡s baja. La puntuaciÃ³n se asignarÃ¡ de forma inversamente proporcional al precio ofertado, utilizando la fÃ³rmula que se establecerÃ¡ en el PPT.
    *   **Cumplimiento del principio DNSH (hasta 10 puntos):** Se valorarÃ¡ la propuesta del licitador en relaciÃ³n con la aplicaciÃ³n de medidas adicionales o mejoras que superen los requisitos mÃ­nimos del principio DNSH, conforme a la justificaciÃ³n detallada en el Anexo V. Se valorarÃ¡ la concreciÃ³n, viabilidad y el impacto positivo adicional de las medidas propuestas en relaciÃ³n con los objetivos medioambientales.

**ArtÃ­culo 16. Examen y ValoraciÃ³n de las Proposiciones.**

1.  La Mesa de ContrataciÃ³n procederÃ¡ a la apertura del Archivo 1 (documentaciÃ³n administrativa y criterios de juicio de valor). Se verificarÃ¡ la DeclaraciÃ³n Responsable y, en su caso, se requerirÃ¡ la subsanaciÃ³n de defectos u omisiones, conforme al artÃ­culo 159.4.c) de la LCSP.
2.  Una vez calificada la documentaciÃ³n administrativa, los servicios tÃ©cnicos evaluarÃ¡n las proposiciones conforme a los criterios de juicio de valor.
3.  Posteriormente, en acto pÃºblico (salvo que se prevea que en la licitaciÃ³n puedan emplearse medios electrÃ³nicos, como es el caso), la Mesa de ContrataciÃ³n procederÃ¡ a la apertura del Archivo 2 (proposiciÃ³n econÃ³mica y criterios evaluables mediante fÃ³rmulas), conforme al artÃ­culo 157.4 de la LCSP.
4.  La Mesa evaluarÃ¡ y clasificarÃ¡ las ofertas, excluyendo aquellas que no cumplan los requerimientos del pliego o que incurran en valores anormales o desproporcionados, si los hubiera.

**ArtÃ­culo 17. ClasificaciÃ³n de Ofertas y Requerimiento de DocumentaciÃ³n.**

1.  Una vez valoradas las ofertas, la Mesa de ContrataciÃ³n realizarÃ¡ la propuesta de adjudicaciÃ³n a favor del candidato con mejor puntuaciÃ³n.
2.  La Mesa comprobarÃ¡ en el Registro Oficial de Licitadores y Empresas Clasificadas del Sector PÃºblico (ROLECE) o en el registro equivalente de la Comunidad AutÃ³noma, que la empresa estÃ¡ debidamente constituida, el firmante de la proposiciÃ³n tiene poder bastante para formular la oferta, ostenta la solvencia econÃ³mica, financiera y tÃ©cnica o, en su caso, la clasificaciÃ³n correspondiente y no estÃ¡ incursa en ninguna prohibiciÃ³n para contratar, conforme al artÃ­culo 159.4.c.3Âº de la LCSP.
3.  Si el licitador hubiera hecho uso de la facultad de acreditar la presentaciÃ³n de la solicitud de inscripciÃ³n en el correspondiente Registro, la Mesa requerirÃ¡ al licitador para que justifique documentalmente todos los extremos referentes a su aptitud para contratar.
4.  El licitador propuesto como adjudicatario deberÃ¡ aportar, en el plazo que se le indique, la documentaciÃ³n justificativa de la declaraciÃ³n responsable y de su aptitud para contratar, asÃ­ como la garantÃ­a definitiva. Las Administraciones PÃºblicas recabarÃ¡n electrÃ³nicamente los documentos que ya se encuentren en poder de la AdministraciÃ³n actuante o hayan sido elaborados por cualquier otra AdministraciÃ³n, salvo que el interesado se oponga expresamente o la ley especial aplicable requiera su consentimiento expreso, conforme al artÃ­culo 28 de la Ley 39/2015, de 1 de octubre, del Procedimiento Administrativo ComÃºn de las Administraciones PÃºblicas, en la redacciÃ³n dada por la DisposiciÃ³n Final DuodÃ©cima del Real Decreto 311/2022.

**ArtÃ­culo 18. AdjudicaciÃ³n del Contrato.**

1.  El Ã“rgano de ContrataciÃ³n, a la vista de la propuesta de la Mesa, adjudicarÃ¡ el contrato al licitador que haya presentado la oferta econÃ³micamente mÃ¡s ventajosa.
2.  La adjudicaciÃ³n se notificarÃ¡ a los licitadores y se publicarÃ¡ en la Plataforma de ContrataciÃ³n del Sector PÃºblico, conforme al artÃ­culo 159.6 de la LCSP.

---

### CAPÃTULO III: APTITUD PARA CONTRATAR

**ArtÃ­culo 19. Capacidad de Obrar.**

1.  PodrÃ¡n contratar con el Ayuntamiento de LogroÃ±o las personas fÃ­sicas o jurÃ­dicas que tengan plena capacidad de obrar, no estÃ©n incursas en prohibiciÃ³n de contratar y acrediten su solvencia econÃ³mica y financiera y tÃ©cnica o profesional, conforme al artÃ­culo 65 de la LCSP.
2.  La capacidad de obrar de las empresas se acreditarÃ¡ mediante la inscripciÃ³n en el Registro Mercantil o en el que corresponda, o mediante la presentaciÃ³n de la documentaciÃ³n que acredite su constituciÃ³n y los poderes del representante, conforme al artÃ­culo 159.4.c) de la LCSP.

**ArtÃ­culo 20. Solvencia EconÃ³mica y Financiera.**

La solvencia econÃ³mica y financiera se acreditarÃ¡ por uno o varios de los siguientes medios, conforme al artÃ­culo 87 de la LCSP:
1.  **Volumen anual de negocios:** El volumen anual de negocios del licitador en el Ã¡mbito de actividades correspondiente al objeto del contrato, referido al mejor de los tres Ãºltimos ejercicios disponibles en funciÃ³n de la fecha de creaciÃ³n o de inicio de las actividades de la empresa, deberÃ¡ ser igual o superior a **QUINCE MIL EUROS (15.000,00 â‚¬)**. Se acreditarÃ¡ mediante las cuentas anuales aprobadas y depositadas en el Registro Mercantil o en el registro oficial que corresponda.
2.  **Seguro de indemnizaciÃ³n por riesgos profesionales:** DeclaraciÃ³n indicando la existencia de un seguro de indemnizaciÃ³n por riesgos profesionales por un importe mÃ­nimo de cobertura de **VEINTE MIL EUROS (20.000,00 â‚¬)**. Se acreditarÃ¡ mediante certificado expedido por el asegurador, en el que consten los importes y riesgos cubiertos, y la fecha de vencimiento del seguro.

**ArtÃ­culo 21. Solvencia TÃ©cnica o Profesional.**

La solvencia tÃ©cnica o profesional se acreditarÃ¡ por uno o varios de los siguientes medios, conforme al artÃ­culo 88 de la LCSP:
1.  **RelaciÃ³n de los principales servicios o trabajos realizados:** Una relaciÃ³n de los principales servicios o trabajos realizados en los Ãºltimos tres aÃ±os, que sean de naturaleza similar o anÃ¡loga a los que constituyen el objeto de este contrato, cuyo importe anual acumulado en el aÃ±o de mayor ejecuciÃ³n deberÃ¡ ser igual o superior a **TREINTA MIL EUROS (30.000,00 â‚¬)**. Se indicarÃ¡ el importe, la fecha y el destinatario, pÃºblico o privado. Se acreditarÃ¡ mediante certificados expedidos o visados por el Ã³rgano competente cuando el destinatario sea una entidad del sector pÃºblico o, cuando el destinatario sea un sujeto privado, mediante un certificado expedido por este o, a falta de este, mediante una declaraciÃ³n del empresario acompaÃ±ado de los documentos que acrediten la realizaciÃ³n de la prestaciÃ³n.
2.  **DeclaraciÃ³n sobre el personal tÃ©cnico o las unidades tÃ©cnicas:** IndicaciÃ³n del personal tÃ©cnico o de las unidades tÃ©cnicas, estÃ©n o no integradas en la empresa, de los que se disponga para la ejecuciÃ³n del contrato, especialmente de los responsables del control de calidad. Se deberÃ¡ aportar la informaciÃ³n detallada de los perfiles conforme al Anexo III del PPT.
3.  **DescripciÃ³n del equipo tÃ©cnico y medidas para garantizar la calidad:** DescripciÃ³n del equipo tÃ©cnico y de las medidas adoptadas por el empresario para garantizar la calidad y los medios de estudio y de investigaciÃ³n de la empresa.

**ArtÃ­culo 22. Ausencia de Prohibiciones de Contratar.**

Los licitadores no deberÃ¡n estar incursos en ninguna de las prohibiciones de contratar establecidas en el artÃ­culo 71 de la LCSP. La acreditaciÃ³n de este requisito se realizarÃ¡ mediante la declaraciÃ³n responsable incluida en el Anexo I. Las circunstancias relativas a la ausencia de prohibiciones de contratar deberÃ¡n concurrir en la fecha final de presentaciÃ³n de ofertas y subsistir en el momento de perfecciÃ³n del contrato, conforme al artÃ­culo 69.4 de la LCSP.

**ArtÃ­culo 23. Compromiso de AdscripciÃ³n de Medios.**

El licitador deberÃ¡ acreditar que dispone de los medios personales y materiales suficientes para la correcta ejecuciÃ³n del contrato, o el compromiso de adscribirlos a la ejecuciÃ³n del mismo. En su caso, se presentarÃ¡ el compromiso de adscripciÃ³n de medios conforme al Anexo IV.

**ArtÃ­culo 24. Uniones Temporales de Empresas (UTE).**

Las empresas podrÃ¡n concurrir agrupadas en UniÃ³n Temporal de Empresas (UTE), sin que sea necesaria la formalizaciÃ³n de la misma en escritura pÃºblica hasta que se haya efectuado la adjudicaciÃ³n a su favor. La declaraciÃ³n responsable deberÃ¡ ser presentada por cada una de las empresas que la componen, y en ella se indicarÃ¡ el compromiso de constituir formalmente la UTE en caso de resultar adjudicatarias.

**ArtÃ­culo 25. Empresas Extranjeras.**

Las empresas extranjeras deberÃ¡n acreditar su capacidad de obrar conforme a la legislaciÃ³n de su paÃ­s de origen. En la declaraciÃ³n responsable, la empresa extranjera deberÃ¡ incluir el sometimiento al fuero espaÃ±ol.

---

### CAPÃTULO IV: GARANTÃAS

**ArtÃ­culo 26. GarantÃ­a Provisional.**

De conformidad con el artÃ­culo 159.4.b) de la LCSP, para el procedimiento abierto simplificado abreviado **no se exigirÃ¡ la constituciÃ³n de garantÃ­a provisional** por parte de los licitadores.

**ArtÃ­culo 27. GarantÃ­a Definitiva.**

1.  El adjudicatario deberÃ¡ constituir una garantÃ­a definitiva equivalente al **5% del precio final de adjudicaciÃ³n** (IVA excluido), en el plazo de diez (10) dÃ­as hÃ¡biles contados desde el siguiente al de la notificaciÃ³n de la adjudicaciÃ³n, conforme al artÃ­culo 107.1 de la LCSP.
2.  La garantÃ­a definitiva responderÃ¡ de los siguientes conceptos, de conformidad con el artÃ­culo 110 de la LCSP:
    *   De la correcta ejecuciÃ³n de las prestaciones objeto del contrato.
    *   De los defectos de la ejecuciÃ³n y de las obligaciones de mantenimiento o reparaciÃ³n.
    *   De las penalidades impuestas al contratista por incumplimiento de sus obligaciones.
    *   De la incautaciÃ³n de la garantÃ­a en caso de resoluciÃ³n del contrato por causa imputable al contratista.
    *   De los gastos derivados de la demora en la entrega del contrato.
3.  La garantÃ­a podrÃ¡ constituirse en metÃ¡lico, valores pÃºblicos, aval bancario, seguro de cauciÃ³n o mediante retenciÃ³n del precio, conforme al artÃ­culo 108 de la LCSP.

---

### CAPÃTULO V: EJECUCIÃ“N DEL CONTRATO

**ArtÃ­culo 28. PerfecciÃ³n y FormalizaciÃ³n del Contrato.**

1.  El contrato se perfeccionarÃ¡ con su formalizaciÃ³n, que se realizarÃ¡ en documento administrativo en el plazo de quince (15) dÃ­as hÃ¡biles a contar desde el siguiente al de la notificaciÃ³n de la adjudicaciÃ³n, de conformidad con el artÃ­culo 153 de la LCSP.
2.  El contratista deberÃ¡ aportar la garantÃ­a definitiva y la documentaciÃ³n requerida en el artÃ­culo 17 antes de la formalizaciÃ³n del contrato.

**ArtÃ­culo 29. Obligaciones del Contratista.**

AdemÃ¡s de las obligaciones especÃ­ficas detalladas en el PPT, el contratista tendrÃ¡ las siguientes obligaciones generales:
1.  Ejecutar el contrato con estricta sujeciÃ³n a las clÃ¡usulas del presente PCAP, a las prescripciones tÃ©cnicas del PPT y a las instrucciones que le sean dadas por el Responsable del Contrato.
2.  Mantener la capacidad y solvencia acreditada durante toda la ejecuciÃ³n del contrato.
3.  Cumplir con la normativa laboral, de seguridad social, fiscal y medioambiental vigente.
4.  Cumplir con las obligaciones en materia de protecciÃ³n de datos personales y seguridad de la informaciÃ³n (ENS) establecidas en los ArtÃ­culos 8 y 9 del presente PCAP.
5.  Cumplir con el principio DNSH en todas las actuaciones relacionadas con el contrato.
6.  Colaborar con el Responsable del Contrato y facilitar toda la informaciÃ³n necesaria para el seguimiento y control de la ejecuciÃ³n.

**ArtÃ­culo 30. SubcontrataciÃ³n.**

1.  El contratista podrÃ¡ subcontratar parte de las prestaciones objeto del contrato, siempre que se cumplan los requisitos y lÃ­mites establecidos en el artÃ­culo 215 de la LCSP.
2.  El contratista deberÃ¡ comunicar por escrito al Ã“rgano de ContrataciÃ³n la intenciÃ³n de subcontratar, identificando las partes de la prestaciÃ³n a subcontratar, el nombre o razÃ³n social del subcontratista y la cuantÃ­a del subcontrato. La subcontrataciÃ³n no podrÃ¡ superar el porcentaje mÃ¡ximo establecido en el PPT, si lo hubiera.
3.  Se reitera que el tratamiento de datos personales no podrÃ¡ ser subcontratado, de conformidad con lo establecido en el ArtÃ­culo 8.3 del presente PCAP.
4.  El contratista serÃ¡ el Ãºnico responsable de la ejecuciÃ³n del contrato frente al Ayuntamiento de LogroÃ±o, incluyendo las partes subcontratadas.

**ArtÃ­culo 31. Responsable del Contrato.**

1.  Se designa como Responsable del Contrato a **DÃ±a. Marta SÃ¡nchez Ruiz, Jefa del Departamento de Sistemas**, o persona en quien delegue.
2.  El Responsable del Contrato supervisarÃ¡ la ejecuciÃ³n del contrato, dictarÃ¡ las instrucciones necesarias para su correcto desarrollo y resolverÃ¡ las incidencias que puedan surgir, de conformidad con el artÃ­culo 62 de la LCSP.

**ArtÃ­culo 32. Modificaciones del Contrato.**

El contrato solo podrÃ¡ modificarse por razones de interÃ©s pÃºblico, en los casos y con los lÃ­mites establecidos en los artÃ­culos 203 a 207 de la LCSP. Cualquier modificaciÃ³n deberÃ¡ ser justificada, tramitada y aprobada conforme a la normativa vigente.

**ArtÃ­culo 33. Pago del Precio.**

1.  El pago del precio se realizarÃ¡ conforme a lo establecido en el PPT y en el calendario de pagos que se establezca, previa conformidad del Responsable del Contrato con las prestaciones realizadas.
2.  El pago se realizarÃ¡ mediante transferencia bancaria a la cuenta indicada por el contratista, en el plazo mÃ¡ximo de treinta (30) dÃ­as desde la fecha de aprobaciÃ³n de las certificaciones de obra o de los documentos que acrediten la conformidad con la prestaciÃ³n realizada, conforme al artÃ­culo 198 de la LCSP.

**ArtÃ­culo 34. RecepciÃ³n y LiquidaciÃ³n.**

1.  Una vez finalizada la ejecuciÃ³n del contrato, el Responsable del Contrato emitirÃ¡ un informe sobre la correcta ejecuciÃ³n de las prestaciones, que servirÃ¡ de base para la recepciÃ³n del contrato.
2.  La recepciÃ³n se formalizarÃ¡ mediante acta, de conformidad con el artÃ­culo 210 de la LCSP.
3.  Tras la recepciÃ³n, se procederÃ¡ a la liquidaciÃ³n del contrato, determinando el saldo resultante entre las prestaciones realizadas y los pagos efectuados.

**ArtÃ­culo 35. ResoluciÃ³n del Contrato.**

El contrato podrÃ¡ resolverse por las causas establecidas en el artÃ­culo 211 de la LCSP, asÃ­ como por el incumplimiento de las obligaciones esenciales del contratista, incluyendo las relativas a la protecciÃ³n de datos, seguridad de la informaciÃ³n y el principio DNSH. La resoluciÃ³n se tramitarÃ¡ conforme a lo dispuesto en los artÃ­culos 212 y 213 de la LCSP.

**ArtÃ­culo 36. RÃ©gimen de Recursos.**

1.  Contra los actos de preparaciÃ³n y adjudicaciÃ³n del contrato que sean susceptibles de recurso especial en materia de contrataciÃ³n, podrÃ¡ interponerse dicho recurso ante el Tribunal Administrativo Central de Recursos Contractuales, de conformidad con los artÃ­culos 44 y siguientes de la LCSP.
2.  Contra el resto de actos y decisiones que se adopten en el procedimiento, se podrÃ¡n interponer los recursos administrativos y contencioso-administrativos que procedan, de conformidad con la Ley 39/2015, de 1 de octubre, del Procedimiento Administrativo ComÃºn de las Administraciones PÃºblicas, y la Ley 29/1998, de 13 de julio, reguladora de la JurisdicciÃ³n Contencioso-administrativa.

**ArtÃ­culo 37. JurisdicciÃ³n Competente.**

Las cuestiones litigiosas que surjan entre las partes en relaciÃ³n con el presente contrato serÃ¡n resueltas por los Ã³rganos de la jurisdicciÃ³n contencioso-administrativa, de conformidad con el artÃ­culo 25.1 de la LCSP.

---

### ANEXOS

*   **Anexo I: Modelo de DeclaraciÃ³n Responsable.**
*   **Anexo II: Modelo de ProposiciÃ³n EconÃ³mica.**
*   **Anexo III: Pliego de Prescripciones TÃ©cnicas (PPT).** (Documento separado que detalla las especificaciones tÃ©cnicas del desarrollo, implantaciÃ³n, perfiles del equipo y los requisitos ENS).
*   **Anexo IV: Modelo de Compromiso de AdscripciÃ³n de Medios.**
*   **Anexo V: Modelo de DeclaraciÃ³n de Cumplimiento del Principio "No causar un perjuicio significativo" (DNSH).**

---

En LogroÃ±o, a [DÃA] de [MES] de [AÃ‘O].

EL Ã“RGANO DE CONTRATACIÃ“N
[FIRMA]
[NOMBRE DEL REPRESENTANTE DEL Ã“RGANO DE CONTRATACIÃ“N]
[CARGO]
Ayuntamiento de LogroÃ±o

---

quÃ© parte del cÃ³digo tengo que modificar o en la parte donde meto el prompt tengo que modificar para que el texto no me ponga CapÃ­tulos ni artÃ­culos en el encabezado?( me refiero a la palabra ### CAPÃTULO y **ArtÃ­culo)
